<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Laddu ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* --- RESET & BASIC SETUP --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { width: 100%; height: 100%; overflow: hidden; font-family: 'Poppins', sans-serif; }

        /* --- BACKGROUND IMAGE & ZOOM HANDLING --- */
        #bg-container {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('image_37cade.jpg') no-repeat center center;
            background-size: cover;
            z-index: -2;
            transition: transform 3s ease-in-out;
            /* Coordinate estimate to zoom into the flowers/hand */
            transform-origin: 40% 60%; 
        }

        /* --- BLUR OVERLAY (Initial State) --- */
        #blur-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            z-index: 0;
            transition: backdrop-filter 1.5s ease, background 1.5s ease;
        }

        /* --- MAIN LAYOUT --- */
        .wrapper {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        /* --- GLASSY CARD STYLE --- */
        .glass-card {
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.4);
            padding: 40px;
            text-align: center;
            max-width: 90%;
            width: 500px;
            animation: floatCard 6s ease-in-out infinite;
        }

        @keyframes floatCard {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        /* --- TEXT STYLES (Reddish Bold Glassy) --- */
        h1, h2, p {
            color: #D80032; /* Deep Romantic Red */
            text-shadow: 0px 0px 15px rgba(255, 255, 255, 0.9);
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            margin-bottom: 20px;
            font-weight: 700;
        }

        p {
            font-size: 1.1rem;
            line-height: 1.6;
            font-weight: 600;
            margin-bottom: 20px;
        }

        /* --- PASSWORD INPUT --- */
        input {
            padding: 15px;
            border-radius: 30px;
            border: 2px solid #D80032;
            background: rgba(255, 255, 255, 0.8);
            outline: none;
            font-size: 1.2rem;
            text-align: center;
            color: #D80032;
            width: 80%;
            margin-bottom: 15px;
            font-weight: bold;
            text-transform: uppercase; /* Forces caps */
        }
        
        .hint { font-size: 0.8rem; color: #8d0020; margin-top: -10px; margin-bottom: 20px; display: block;}

        /* --- BUTTONS --- */
        .btn {
            padding: 12px 30px;
            border-radius: 50px;
            border: none;
            font-size: 1.1rem;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-family: 'Poppins', sans-serif;
        }

        .btn-primary {
            background: #D80032;
            color: white;
        }
        .btn-primary:hover { background: #ff0a43; transform: scale(1.05); }

        .btn-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            position: relative;
            height: 60px; /* Space for moving button */
        }

        /* --- SCREENS LOGIC --- */
        .screen { display: none; animation: fadeIn 1s forwards; }
        .active { display: block; }
        
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        /* --- FLOATING HEARTS (Background) --- */
        .bg-heart {
            position: absolute;
            color: #ff4d6d;
            font-size: 10px;
            opacity: 0;
            z-index: -1;
            animation: floatUp 8s linear infinite;
        }

        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            20% { opacity: 0.6; }
            100% { transform: translateY(-10vh) scale(2); opacity: 0; }
        }

        /* --- FIREWORKS (Canvas) --- */
        canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 20; }

    </style>
</head>
<body>

    <div id="bg-container"></div>
    
    <div id="blur-overlay"></div>

    <div id="hearts-container"></div>

    <div class="wrapper">
        
        <div id="screen-password" class="glass-card active screen">
            <h1>Tell me Laddu...</h1>
            <p>What's the password?</p>
            <input type="text" id="passwordInput" placeholder="DDMMM" maxlength="5">
            <span class="hint">Hint: When it all started (01JAN format)</span>
            <button class="btn btn-primary" onclick="checkPassword()">Unlock ‚ù§Ô∏è</button>
            <p id="error-msg" style="color:red; display:none; margin-top:10px;">That's not our date!</p>
        </div>

        <div id="screen-story" class="glass-card screen">
            <div id="story-text">
                </div>
            <button id="next-btn" class="btn btn-primary" style="display:none; margin-top:20px;" onclick="nextStory()">Continue &rarr;</button>
        </div>

        <div id="screen-proposal" class="glass-card screen">
            <h1>So I want to ask you once again...</h1>
            <p style="font-size: 1.5rem; margin-top: 20px;">Will you be my valentine? üëâüèΩüëàüèΩ</p>
            
            <div class="btn-container">
                <button class="btn btn-primary" onclick="acceptProposal()">Yes! ‚ù§Ô∏è</button>
                <button class="btn" style="background: white; color: #D80032;" id="no-btn" onmouseover="moveButton()" ontouchstart="moveButton()">No</button>
            </div>
        </div>

        <div id="screen-success" class="glass-card screen" style="background: rgba(255,255,255,0.1); border:none; box-shadow:none;">
            <h1 style="font-size: 4rem; text-shadow: 0 0 20px white;">I Love You Laddu! ‚ù§Ô∏è</h1>
        </div>

    </div>

    <canvas id="fireworks"></canvas>

    <script>
        // --- CONFIGURATION ---
        const PASSWORD = "25SEP";
        
        // --- BACKGROUND HEARTS ---
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('bg-heart');
            heart.innerHTML = '‚ù§';
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.animationDuration = Math.random() * 5 + 5 + "s"; // 5 to 10s duration
            heart.style.fontSize = Math.random() * 10 + 10 + "px"; // Small elegant size
            document.getElementById('hearts-container').appendChild(heart);
            setTimeout(() => { heart.remove(); }, 10000);
        }
        setInterval(createHeart, 800); // Not frequent, elegant

        // --- PASSWORD LOGIC ---
        function checkPassword() {
            const input = document.getElementById('passwordInput').value.toUpperCase();
            if (input === PASSWORD) {
                // Success: Remove blur, switch screen
                document.getElementById('blur-overlay').style.backdropFilter = "blur(0px)";
                document.getElementById('blur-overlay').style.background = "rgba(0,0,0,0.2)"; // Darken slightly for readability
                switchScreen('screen-story');
                startStory();
            } else {
                // Shake effect logic could go here, but simple error msg for now
                document.getElementById('error-msg').style.display = 'block';
            }
        }

        // --- STORY LOGIC ---
        const storyLines = [
            "Laddu i love you... I love you since we were kids.",
            "You are my first love, my first crush. I used to look at you in class the whole day...",
            "I always thought, 'Why would a cute girl like you date me?' But here we are...",
            "You know your smile... I loved it always, always, always.",
            "Remember we were running in the corridor of our school on teachers' day? Remember we talked? That is one of my favorite school memories.",
            "The day we met after confessing the love for each other...",
            "I was mesmerized when I saw you that day on the station. Your hair, your smile, everything was so perfect.",
            "So..."
        ];

        let lineIndex = 0;
        const storyDiv = document.getElementById('story-text');
        const nextBtn = document.getElementById('next-btn');

        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function startStory() {
            typeLine();
        }

        function typeLine() {
            if (lineIndex < storyLines.length) {
                storyDiv.style.opacity = 0;
                setTimeout(() => {
                    storyDiv.innerHTML = `<h2>${storyLines[lineIndex]}</h2>`;
                    storyDiv.style.opacity = 1;
                    storyDiv.style.transition = "opacity 1s ease";
                    lineIndex++;
                    
                    // Show button after reading time
                    setTimeout(() => {
                        nextBtn.style.display = 'inline-block';
                    }, 1500); 
                }, 500);
            } else {
                switchScreen('screen-proposal');
            }
        }

        function nextStory() {
            nextBtn.style.display = 'none';
            typeLine();
        }

        // --- THE TRICKY "NO" BUTTON ---
        function moveButton() {
            const btn = document.getElementById('no-btn');
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 100);
            btn.style.position = 'fixed';
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
        }

        // --- ACCEPT PROPOSAL ---
        function acceptProposal() {
            switchScreen('screen-success');
            
            // 1. Zoom Effect (Targeting the flower via transform origin set in CSS)
            document.getElementById('bg-container').style.transform = "scale(2.5)";
            
            // 2. Hide overlay completely
            document.getElementById('blur-overlay').style.opacity = 0;

            // 3. Fireworks
            startFireworks();
        }

        // --- FIREWORKS ENGINE ---
        function startFireworks() {
            const canvas = document.getElementById('fireworks');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            let particles = [];
            
            function Particle(x, y, color) {
                this.x = x; this.y = y; this.color = color;
                this.velocity = { x: (Math.random() - 0.5) * 8, y: (Math.random() - 0.5) * 8 };
                this.alpha = 1; this.friction = 0.96;
            }
            
            Particle.prototype.draw = function() {
                ctx.globalAlpha = this.alpha;
                ctx.beginPath();
                ctx.arc(this.x, this.y, 4, 0, Math.PI * 2, false);
                ctx.fillStyle = this.color;
                ctx.fill();
            }
            
            Particle.prototype.update = function() {
                this.velocity.x *= this.friction;
                this.velocity.y *= this.friction;
                this.x += this.velocity.x;
                this.y += this.velocity.y;
                this.alpha -= 0.01;
                this.draw();
            }

            function animate() {
                requestAnimationFrame(animate);
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)'; // Trail effect
                ctx.fillRect(0, 0, canvas.width, canvas.height); // Clear canvas slightly
                
                particles.forEach((particle, i) => {
                    if (particle.alpha > 0) {
                        particle.update();
                    } else {
                        particles.splice(i, 1);
                    }
                });
            }
            
            function explode(x, y) {
                const colors = ['#ff4d6d', '#ff0000', '#ffffff', '#ffb3c1'];
                for (let i = 0; i < 50; i++) {
                    particles.push(new Particle(x, y, colors[Math.floor(Math.random() * colors.length)]));
                }
            }

            // Trigger random explosions
            setInterval(() => {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                explode(x, y);
            }, 500);

            animate();
        }

    </script>
</body>
</html>
